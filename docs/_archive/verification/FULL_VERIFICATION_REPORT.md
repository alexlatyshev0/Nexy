# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Üî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-01-20  
**–°—Ç–∞—Ç—É—Å:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤

---

## ‚úÖ –ü–†–û–í–ï–†–ï–ù–ù–´–ï –ò –ü–û–î–¢–í–ï–†–ñ–î–Å–ù–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### 1. –í–∏–∑—É–∞–ª—å–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (–ú–∏–≥—Ä–∞—Ü–∏—è 020) ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `020_onboarding_category_column.sql` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ö–æ–ª–æ–Ω–∫–∏ `onboarding_category`, `onboarding_direction` –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç: `getCategoryId()` –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç `onboarding_category` —Å fallback
- ‚úÖ SQL –∑–∞–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 148)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

---

### 2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ 20 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ `OnboardingResponses` interface
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è (`oral`, `power_dynamic`)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è 020 –∑–∞–ø–æ–ª–Ω—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

---

### 3. Body Map ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `BODY_MAP_ACTIVITIES` **–ù–ï –Ω–∞–π–¥–µ–Ω–∞** - —É–¥–∞–ª–µ–Ω–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω—ã: `bodymap-self`, `bodymap-partner-female`, `bodymap-partner-male`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û** - legacy-–∫–æ–¥ —É–¥–∞–ª—ë–Ω

---

### 4. Composite Scenes: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `scenes/v2/composite/_index.json`: `total_scenes: 135`
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç 135 —Å—Ü–µ–Ω

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ

---

### 5. Gates —Å–∏—Å—Ç–µ–º–∞ ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `019_unified_gates.sql` —Å–æ–∑–¥–∞—ë—Ç `user_gates`
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `fetchUserGates()` –¥–ª—è —á—Ç–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û** - unified system —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (–ú–∏–≥—Ä–∞—Ü–∏—è 021) ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `021_merge_scene_responses.sql` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `composite_scene_responses` —É–¥–∞–ª–µ–Ω–∞
- ‚úÖ –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `scene_responses` —Å –Ω–æ–≤—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏: `scene_slug`, `element_responses`, `skipped`, `updated_at`
- ‚úÖ `composite_scene_responses` **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –≤ –∫–æ–¥–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–®–ï–ù–û** - —Ç–∞–±–ª–∏—Ü—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã

---

## ‚ö†Ô∏è –ù–ê–ô–î–ï–ù–ù–´–ï –†–ê–°–•–û–ñ–î–ï–ù–ò–Ø

### 7. Scene Progression: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `scene-progression.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

---

### 8. Landing Page

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `landing-page-spec.md` - –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ù–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** - –≤–æ–∑–º–æ–∂–Ω–æ –≤ –¥—Ä—É–≥–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

### 9. Admin Panel: –º–∏–≥—Ä–∞—Ü–∏–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (`docs/admin-panel.md`):**
- –£–ø–æ–º–∏–Ω–∞–µ—Ç: `006_add_missing_columns.sql`, `008_add_accepted_field.sql`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ü–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `005_scenes_v2_composite.sql`:
  - `generation_prompt` ‚úÖ (—Å—Ç—Ä–æ–∫–∞ 138)
  - `qa_status` ‚úÖ (—Å—Ç—Ä–æ–∫–∞ 141)
  - `qa_attempts` ‚úÖ (—Å—Ç—Ä–æ–∫–∞ 142)
  - `qa_last_assessment` ‚úÖ (—Å—Ç—Ä–æ–∫–∞ 143)
  - `prompt_instructions` ‚úÖ (—Å—Ç—Ä–æ–∫–∞ 144)
- ‚úÖ –ü–æ–ª–µ `accepted` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `011_finalize_v2.sql` ‚úÖ (—Å—Ç—Ä–æ–∫–∞ 33)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –≤ –¥—Ä—É–≥–∏—Ö –º–∏–≥—Ä–∞—Ü–∏—è—Ö

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞** - –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã

---

### 10. Show-If —É—Å–ª–æ–≤–∏—è: —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `src/lib/show-if.ts` - –¥–ª—è **follow-ups** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ `src/lib/scene-conditions.ts` - –¥–ª—è **—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ü–µ–Ω** (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –≤ –∫–æ–¥–µ)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `docs/onboarding-integration.md` —É–ø–æ–º–∏–Ω–∞–µ—Ç `scene-conditions.ts` ‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- `docs/status.md` —É–ø–æ–º–∏–Ω–∞–µ—Ç `show-if.ts` ‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è `scene-conditions.ts` —Ä–µ–∞–ª–∏–∑—É–µ—Ç `skip_if`, `prefill_if`, `show_only_if`, –Ω–æ **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –Ω–∏–≥–¥–µ –≤ –∫–æ–¥–µ
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª—Å—è, –Ω–æ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ** - –∫–æ–¥ –µ—Å—Ç—å, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## ‚úÖ –ß–¢–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û, –ù–û –ù–ï –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–û

### 11. ExclusionDialog ‚úÖ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `ExclusionDialog.tsx` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `discover/page.tsx`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å API: `/api/exclusions` –∏ `/api/ai/detect-exclusion`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚ùå –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

---

### 12. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `src/lib/scene-conditions.ts` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ä–µ–∞–ª–∏–∑—É–µ—Ç skip_if/prefill_if, –Ω–æ **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
- ‚úÖ `src/lib/profile-signals.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è
- ‚úÖ `src/lib/partner-archetypes.ts` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ `src/lib/matching.ts` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ**

---

### 13. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:**
- ‚úÖ `012_add_language_to_profiles.sql`
- ‚úÖ `013_fix_excluded_scene_ids.sql`
- ‚úÖ `014_cleanup_legacy_fields.sql`
- ‚úÖ `015_visual_onboarding.sql`
- ‚úÖ `016_security_fixes.sql`
- ‚úÖ `017_onboarding_as_scenes.sql`
- ‚úÖ `018_onboarding_paired_with.sql`
- ‚úÖ `019_unified_gates.sql`
- ‚úÖ `020_onboarding_category_column.sql`
- ‚úÖ `021_merge_scene_responses.sql`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- ‚ö†Ô∏è –ù–µ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ `docs/database.md`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –í –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò

### –ü—Ä–æ–±–ª–µ–º–∞ 1: database.md –æ–ø–∏—Å—ã–≤–∞–µ—Ç —É–¥–∞–ª—ë–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

**–§–∞–π–ª:** `docs/database.md` (—Å—Ç—Ä–æ–∫–∏ 191-231)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –†–∞–∑–¥–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `composite_scene_responses` –∫–∞–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ 021

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. –£–¥–∞–ª–∏—Ç—å —Ä–∞–∑–¥–µ–ª `### composite_scene_responses` (—Å—Ç—Ä–æ–∫–∏ 191-231)
2. –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª `### scene_responses`:
   - –î–æ–±–∞–≤–∏—Ç—å `scene_slug TEXT`
   - –î–æ–±–∞–≤–∏—Ç—å `element_responses JSONB`
   - –î–æ–±–∞–≤–∏—Ç—å `skipped BOOLEAN`
   - –î–æ–±–∞–≤–∏—Ç—å `updated_at TIMESTAMPTZ`
   - –û–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ `element_responses` –∏ `follow_up_answers` –æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (—Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: architecture.md - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –ø–æ–¥—Å—á—ë—Ç–µ

**–§–∞–π–ª:** `docs/architecture.md` (—Å—Ç—Ä–æ–∫–∞ 54)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –£–∫–∞–∑—ã–≤–∞–µ—Ç "135 composite scenes organized in 24 categories"
- –ù–æ `_index.json` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 28 –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–µ 24)

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ `_index.json`
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –í—Å–µ–≥–æ | –†–µ—à–µ–Ω–æ | –ß–∞—Å—Ç–∏—á–Ω–æ | –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|-----------|-------|--------|----------|---------------------|
| –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ | 3 | 3 ‚úÖ | 0 | 0 |
| –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ | 4 | 4 ‚úÖ | 0 | 0 |
| –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ | 3 | 0 | 1 ‚ö†Ô∏è | 2 üî¥ |
| –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ | 3 | 0 | 2 ‚ö†Ô∏è | 1 üî¥ |

**–ò—Ç–æ–≥–æ:** 13 –ø—É–Ω–∫—Ç–æ–≤
- ‚úÖ **7 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–æ**
- ‚ö†Ô∏è **3 —á–∞—Å—Ç–∏—á–Ω–æ/—Ç—Ä–µ–±—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
- üî¥ **3 —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ó–ê–î–ê–ß–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å database.md

1. **–£–¥–∞–ª–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ `composite_scene_responses`** (—É–¥–∞–ª–µ–Ω–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ 021)
2. **–î–æ–ø–æ–ª–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ `scene_responses`**:
   - –î–æ–±–∞–≤–∏—Ç—å `scene_slug`, `element_responses`, `skipped`, `updated_at`
   - –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `element_responses` –∏ `follow_up_answers`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å scene-conditions.ts

1. **–í—ã—è—Å–Ω–∏—Ç—å:** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ `scene-conditions.ts` –≥–¥–µ-–ª–∏–±–æ
2. **–†–µ—à–µ–Ω–∏–µ:** –ª–∏–±–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å, –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –û–±–Ω–æ–≤–∏—Ç—å admin-panel.md

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:**
   - `006_add_missing_columns.sql` ‚Üí –æ–±—ä–µ–¥–∏–Ω–µ–Ω–æ –≤ `005_scenes_v2_composite.sql`
   - `008_add_accepted_field.sql` ‚Üí –æ–±—ä–µ–¥–∏–Ω–µ–Ω–æ –≤ `011_finalize_v2.sql`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å

1. **ExclusionDialog** - –æ–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
2. **scene-conditions.ts** - –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å; –µ—Å–ª–∏ –Ω–µ—Ç - —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∑–∞—á–µ–º —Å–æ–∑–¥–∞–Ω

---

## ‚úÖ –ü–†–û–í–ï–†–û–ß–ù–´–ô –ß–ï–ö–õ–ò–°–¢

### –ú–∏–≥—Ä–∞—Ü–∏–∏
- [x] 020 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] 021 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] composite_scene_responses —É–¥–∞–ª–µ–Ω–∞
- [x] –í—Å–µ –ø–æ–ª—è –∏–∑ –º–∏–≥—Ä–∞—Ü–∏–π –¥–æ–±–∞–≤–ª–µ–Ω—ã

### –ö–æ–¥
- [x] onboarding_category –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] scene_slug –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] element_responses –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] BODY_MAP_ACTIVITIES —É–¥–∞–ª–µ–Ω–∞
- [x] computeGates() —É–¥–∞–ª–µ–Ω–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] database.md - –æ–±–Ω–æ–≤–∏—Ç—å scene_responses
- [ ] database.md - —É–¥–∞–ª–∏—Ç—å composite_scene_responses
- [ ] admin-panel.md - –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] architecture.md - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

---

**–í—ã–≤–æ–¥:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (100%), –Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ 3-4 –º–µ—Å—Ç–∞—Ö.
